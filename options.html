<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gemini HTML Builder</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="app-container">
    <!-- Header -->
    <header class="app-header">
      <div class="logo">
        <span class="logo-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3l1.912 5.813a2 2 0 001.275 1.275L21 12l-5.813 1.912a2 2 0 00-1.275 1.275L12 21l-1.912-5.813a2 2 0 00-1.275-1.275L3 12l5.813-1.912a2 2 0 001.275-1.275L12 3z"/></svg>
        </span>
        <h1>Gemini HTML Builder</h1>
      </div>
      <div class="connection-status" id="connectionStatus">
        <span class="status-dot disconnected"></span>
        <span class="status-text">Ch∆∞a k·∫øt n·ªëi</span>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Left Panel - Preview -->
      <section class="panel preview-panel">
        <div class="panel-header">
          <h2>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>
            Preview
          </h2>
          <div class="panel-actions">
            <button id="inspectBtn" class="btn-icon btn-inspect" title="Inspect & Ch·ªçn ph·∫ßn t·ª≠">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>
            </button>
            <button id="refreshPreview" class="btn-icon" title="Refresh">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 4 23 10 17 10"/><polyline points="1 20 1 14 7 14"/><path d="M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"/></svg>
            </button>
            <button id="openNewTab" class="btn-icon" title="M·ªü tab m·ªõi">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
            </button>
            <button id="downloadHtml" class="btn-icon" title="T·∫£i xu·ªëng">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
            </button>
            <button id="copyHtml" class="btn-icon" title="Copy HTML">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
            </button>
          </div>
        </div>
        <!-- Selected Element Info -->
        <div id="selectedElementInfo" class="selected-element-info hidden">
          <div class="selected-element-header">
            <span class="selected-label">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>
              ƒêang ch·ªânh s·ª≠a:
            </span>
            <button id="clearSelection" class="btn-clear-selection" title="B·ªè ch·ªçn">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
            </button>
          </div>
          <div class="selected-element-details">
            <code id="selectedSelector"></code>
          </div>
        </div>
        <div class="preview-container">
          <iframe id="previewFrame" sandbox="allow-scripts allow-same-origin"></iframe>
        </div>
      </section>

      <!-- Right Panel - Controls -->
      <section class="panel control-panel">
        <!-- Page Section (replaces Connection Section) -->
        <div class="section page-section">
          <div class="section-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>
            <span>Pages</span>
            <button id="newPageBtn" class="btn-small" title="T·∫°o page m·ªõi">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
              M·ªõi
            </button>
          </div>
          <div class="section-content page-list-container">
            <div id="pageList" class="page-list"></div>
          </div>
        </div>

        <!-- History Section -->
        <div class="section history-section">
          <div class="section-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
            <span>L·ªãch s·ª≠</span>
            <button id="clearHistory" class="btn-clear" title="X√≥a l·ªãch s·ª≠">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>
            </button>
          </div>
          <div id="historyList" class="history-list"></div>
        </div>

        <!-- Prompt Section -->
        <div class="section prompt-section">
          <div class="section-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>
            <span>M√¥ t·∫£ HTML</span>
            <span id="editModeLabel" class="edit-mode-label hidden">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
              Ch·∫ø ƒë·ªô s·ª≠a ph·∫ßn t·ª≠
            </span>
          </div>
          <div class="section-content">
            <textarea 
              id="promptInput" 
              placeholder="V√≠ d·ª•: T·∫°o trang landing page cho qu√°n c√† ph√™ v·ªõi m√†u n√¢u ·∫•m √°p, c√≥ hero section v·ªõi h√¨nh n·ªÅn gradient, menu s·∫£n ph·∫©m d·∫°ng card, v√† footer v·ªõi th√¥ng tin li√™n h·ªá..."
            ></textarea>
            <div class="prompt-actions">
              <select id="modelSelect" class="model-select" title="Ch·ªçn ch·∫ø ƒë·ªô AI">
                <option value="flash">‚ö° Nhanh</option>
                <option value="thinking">üß† T∆∞ duy</option>
              </select>
              <button id="generateBtn" class="btn btn-primary">
                <span class="btn-text">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 00-2.91-.09z"/><path d="M12 15l-3-3a22 22 0 012-3.95A12.88 12.88 0 0122 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 01-4 2z"/><path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"/><path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/></svg>
                  T·∫°o HTML
                </span>
                <span class="btn-loading">
                  <svg class="spin" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="2" x2="12" y2="6"/><line x1="12" y1="18" x2="12" y2="22"/><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"/><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"/><line x1="2" y1="12" x2="6" y2="12"/><line x1="18" y1="12" x2="22" y2="12"/><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"/><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"/></svg>
                  ƒêang t·∫°o...
                </span>
              </button>
            </div>
          </div>
        </div>

        <!-- Status -->
        <div id="status" class="status-bar hidden"></div>
      </section>
    </main>
  </div>

  <script src="db.js"></script>
  <script src="icons.js"></script>
  <script src="options.js"></script>
</body>
</html>
